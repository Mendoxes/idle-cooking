(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{536:function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",(function(){return V}));var n=a(0),o=a.n(n),r=a(20),i=a(115),s=a(116),l=a(1),c=a(6),p=a(331),u=a.n(p),d=a(5);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function f(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input-container-row"},o.a.createElement("div",{className:"input-col"},o.a.createElement(u.a,Object(d.r)(e,e.state.firstName))),o.a.createElement("div",{className:"input-col"},o.a.createElement(u.a,Object(d.r)(e,e.state.lastName)))),o.a.createElement("div",{className:"input-container-row"},o.a.createElement("div",{className:"input-col-full"},o.a.createElement(u.a,m({},Object(d.r)(e,e.state.positionTitle),{showLabelOnFocus:!1})))),o.a.createElement("div",{className:"input-container-row"},o.a.createElement("div",{className:"input-col-full"},o.a.createElement(u.a,Object(d.r)(e,e.state.email)))),o.a.createElement("div",{className:"input-container-row"},o.a.createElement("div",{className:"input-col"},o.a.createElement(u.a,Object(d.r)(e,e.state.phone))),o.a.createElement("div",{className:"input-col"},o.a.createElement(u.a,Object(d.r)(e,e.state.companyName)))),o.a.createElement("div",{className:"input-container-row"},o.a.createElement("div",{className:"input-col-full"},o.a.createElement(u.a,m({},Object(d.r)(e,e.state.relationshipToYou),{showLabelOnFocus:!1})))),o.a.createElement("div",{className:"builder-form-layout-button-section builder-form-layout-button-section"},BLDR.enableBackButton&&!e.isCalledFromFinalize?o.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back):o.a.createElement("button",{className:"button button-default btn-back js-back-button",type:"button",onClick:e.onCancelClick},e.localization.cancel_Button_Text),o.a.createElement("button",{className:"button button-primary btn-next js-next-button",type:"button",onClick:e.onSaveClick},e.localization.save_Button_Text)))}var C=a(361),h=a.n(C),y=a(7),b=a(2),g=a(84),v=a.n(g);function T(e){var t=e.isCalledFromFinalize,a=function(e){var t=[];e&&e.length>0&&e.map((function(e,a){if(!Object(d.z)(e)){var n=b.CommonHelper.getCharValue(e.docDatas,b.TypeCodes.fieldCd.FirstName),r=b.CommonHelper.getCharValue(e.docDatas,b.TypeCodes.fieldCd.LastName),i=b.CommonHelper.getCharValue(e.docDatas,b.TypeCodes.fieldCd.PositionTitle),s=b.CommonHelper.getCharValue(e.docDatas,b.TypeCodes.fieldCd.RelationshipCompany);t.push({id:e.id,index:a,name:n+" "+r,html:o.a.createElement("div",null,o.a.createElement("div",{className:"para-title"},n+" "+r),o.a.createElement("div",{className:"para-s-title"},i),o.a.createElement("div",{className:"para-s-title"},s))})}}));return t}(e.paragraphs);return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(v.a,Object(d.q)(e,e.includeReferences)),a.length<=0&&o.a.createElement("div",{className:"button-add-container button-add-container-empty",onClick:e.onAddReferencesClick},o.a.createElement("a",{className:"add-field help-text"},o.a.createElement("span",{className:"add-icon"},o.a.createElement(y.F,null))," ",e.localization.add_reference_heading)),a.length>0&&o.a.createElement("div",null,o.a.createElement(h.a,{items:a,onSort:e.onSort,onEdit:e.onEdit,onDelete:e.onDelete,showDeleteModal:!0}),o.a.createElement("div",{className:"button-add-container",onClick:e.onAddReferencesClick},o.a.createElement("a",{className:"add-field help-text disabled"},o.a.createElement("span",{className:"add-icon"},o.a.createElement(y.F,null))," ",e.localization.add_reference_heading))),t&&o.a.createElement("div",{className:"builder-form-layout-button-section"},o.a.createElement("button",{className:"button button-default btn-back js-back-button",type:"button",onClick:e.onCancelClick}," ",e.localization.cancel_Button_Text),o.a.createElement("button",{className:"button button-primary btn-next js-next-button",type:"button",onClick:e.onSaveClick},e.localization.save_Button_Text)),!t&&o.a.createElement("div",{className:BLDR.enableBackButton?"builder-form-layout-button-section back-button-layout":"builder-form-layout-button-section"},BLDR.enableBackButton&&o.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),o.a.createElement("button",{className:"button button-primary",type:"button",onClick:e.onContinueClick},e.localization.continue_Button_text)))}function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){E(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function O(e,t,a,n){var o={},r=[];switch(e.target&&e.target.name?e.target.name:e.name){case b.TypeCodes.fieldCd.FirstName:r.push({fieldCd:b.TypeCodes.fieldCd.FirstName,value:t}),o={firstName:D(D({},a.firstName),{},{value:t,showError:!t,isValid:!!t})};break;case b.TypeCodes.fieldCd.LastName:r.push({fieldCd:b.TypeCodes.fieldCd.LastName,value:t}),o={lastName:D(D({},a.lastName),{},{value:t,showError:!t,isValid:!!t})};break;case b.TypeCodes.fieldCd.PositionTitle:r.push({fieldCd:b.TypeCodes.fieldCd.PositionTitle,value:t}),o={positionTitle:D(D({},a.positionTitle),{},{value:t,showError:!t,isValid:!!t})};break;case b.TypeCodes.fieldCd.Email:r.push({fieldCd:b.TypeCodes.fieldCd.Email,value:t}),o={email:D(D({},a.email),{},{value:t,isValid:!!t&&d.b.email.test(t),showError:!t||!d.b.email.test(t),errorMessage:t&&n?d.b.email.test(t)?"":"Email is not Valid":"Email can't be blank"})};break;case b.TypeCodes.fieldCd.CellPhone:r.push({fieldCd:b.TypeCodes.fieldCd.CellPhone,value:t}),o={phone:D(D({},a.phone),{},{value:S(t),isValid:!0})};break;case b.TypeCodes.fieldCd.RelationshipCompany:r.push({fieldCd:b.TypeCodes.fieldCd.RelationshipCompany,value:t}),o={companyName:D(D({},a.companyName),{},{value:t,isValid:!!t,showError:!t})};break;case b.TypeCodes.fieldCd.RelationshipToYou:r.push({fieldCd:b.TypeCodes.fieldCd.RelationshipToYou,value:t}),o={relationshipToYou:D(D({},a.relationshipToYou),{},{value:t,isValid:!!t,showError:!t})}}return{currentState:o,fieldCds:r}}function S(e){var t=(e=(""+e).replace(/\D/g,"")).match(/^(\d{3})(\d{3})(\d{4})$/);return t?"("+t[1]+") "+t[2]+"-"+t[3]:e}var k=a(8);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=H(e);if(t){var o=H(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return j(this,a)}}function j(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(p,e);var t,a,n,r=B(p);function p(e,t){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),_(F(a=r.call(this,e,t)),"conductFitCarouselExperiment",(function(){BLDR.isRG&&BLDR.PortalExperiments.rgnFitCarousel&&"guest"==a.props.user.role.toLowerCase()&&a.props.userActions.ConductExperiment(a.props.document.userId,BLDR.PortalExperiments.rgnFitCarousel.id,BLDR.PortalExperiments.rgnFitCarousel.conductForOldUsers)})),_(F(a),"onNextClick",(function(e){var t;switch(e=e.toLowerCase().replace(/\s/g,"")){case l.y.yes:t=BLDR.Paths.BasePath+"/"+l.u.references;break;case l.y.no:default:t=a.props.nextPageUrl}a.saveUpdateDocPreference(e),a.props.history.push(t)})),_(F(a),"saveUpdateDocPreference",(function(e){var t=e.toLowerCase().replace(/\s/g,"");switch(t){case l.y.yes:t=l.c.show;break;case l.y.no:t=l.c.hide;break;default:t=l.c.uponRequest}var n=a.props.section;if(n&&n.preferences){var o=n.preferences.find((function(e){return e.typeCD==l.b.referencesOption}));if(!o||t!=o.value){o?o.value=t:n.preferences.push({typeCD:l.b.referencesOption,value:t});var r=JSON.parse(JSON.stringify(a.props.document)),i=r.sections.findIndex((function(e){return e.id==n.id}));r.sections[i]=n,a.props.documentActions.UpdateDocument(a.user.UserUID,r,!1)}}})),_(F(a),"onSort",(function(e,t,n){var o=b.DocumentHelper.ParaSort(a.props.section,e,t,n),r=JSON.parse(JSON.stringify(a.props.document)),i=r.sections.findIndex((function(e){return e.id==a.props.paragraph.sectionID}));r.sections[i]=o,r&&a.props.documentActions.UpdateDocument(a.user.UserUID,r)})),_(F(a),"onEdit",(function(e,t){var n=a.props&&a.props.section&&a.props.section.paragraphs?a.props.section.paragraphs.find((function(e){return e.id==t})):null;if(n){var o=function(e,t){if(e&&e.docDatas){var a=(e=JSON.parse(JSON.stringify(e))).docDatas,n=b.CommonHelper.getCharValue(a,b.TypeCodes.fieldCd.FirstName),o=b.CommonHelper.getCharValue(a,b.TypeCodes.fieldCd.LastName),r=b.CommonHelper.getCharValue(a,b.TypeCodes.fieldCd.PositionTitle),i=b.CommonHelper.getCharValue(a,b.TypeCodes.fieldCd.Email),s=b.CommonHelper.getCharValue(a,b.TypeCodes.fieldCd.CellPhone),l=b.CommonHelper.getCharValue(a,b.TypeCodes.fieldCd.RelationshipCompany),c=b.CommonHelper.getCharValue(a,b.TypeCodes.fieldCd.RelationshipToYou);return{firstName:D(D({},t.firstName),{},{value:n}),lastName:D(D({},t.lastName),{},{value:o}),positionTitle:D(D({},t.positionTitle),{},{value:r}),email:D(D({},t.email),{},{value:i}),phone:D(D({},t.phone),{},{value:s}),companyName:D(D({},t.companyName),{},{value:l}),relationshipToYou:D(D({},t.relationshipToYou),{},{value:c}),paragraph:e}}}(n,a.state);a.setState(o)}var r="".concat(c.c[l.u.references],"?").concat(l.D.edit_reference_id,"=").concat(t,"&hidesidebar=true");a.props.history.push(r)})),_(F(a),"onDelete",(function(e,t){var n=a.props.section.id,o=b.DocumentHelper.removeParagraph(a.props.document,n,t);o&&a.props.documentActions.UpdateDocument(a.user.UserUID,o)})),_(F(a),"onContinueClick",(function(){a.props.history.push(a.props.nextPageUrl)})),_(F(a),"onAddReferencesClick",(function(){var e=!1;if(a.props.section.paragraphs.map((function(t){e=t.docDatas&&t.docDatas.filter((function(e){return""!=e.charValue})).length<1})),!e){var t=b.DocumentHelper.getDocDatasForNewPara(a.props.section.sectionTypeCD),n=b.DocumentHelper.addUpdateParagraph(a.props.document,a.props.section.id,null,t,0,!0);a.setState({paragraph:n.activePara})}a.clearFields();var o="".concat(c.c[l.u.references],"?").concat(l.D.add_reference,"=true&hidesidebar=true");a.props.history.push(o)})),_(F(a),"clearFields",(function(){var e=function(e){return{firstName:D(D({},e.firstName),{},{value:"",showError:!1,isValid:!1}),lastName:D(D({},e.lastName),{},{value:"",showError:!1,isValid:!1}),positionTitle:D(D({},e.positionTitle),{},{value:"",showError:!1,isValid:!1}),email:D(D({},e.email),{},{value:"",showError:!1,isValid:!1}),phone:D(D({},e.phone),{},{value:""}),companyName:D(D({},e.companyName),{},{value:"",showError:!1,isValid:!1}),relationshipToYou:D(D({},e.relationshipToYou),{},{value:"",showError:!1,isValid:!1})}}(a.state);a.setState(e)})),_(F(a),"onSaveClick",(function(e){if(e.stopPropagation(),a.props.isCalledFromFinalize){var t=a.state.includeReferences.value,n=JSON.parse(JSON.stringify(a.props.document));if(a.saveUpdateDocPreference(t),a.props.screenName!=l.u.references&&(a.props.isEditMode||a.props.isAddMode)){var o=a.getUpdatedSection(!0);if(o.isValid){var r=o.Section,i=n.sections.findIndex((function(e){return e.id==r.id}));n.sections[i]=r,n=b.DocumentHelper.deleteEmptyParagrah(n),a.props.documentActions.UpdateDocument(a.user.UserUID,n);var s="".concat(c.c[l.u.references]);a.props.history.push(s)}}else{var p=c.c[l.u.references];(!a.props.isEditMode&&!a.props.isAddMode||a.props.screenName==l.u.references&&a.props.isCalledFromFinalize)&&(p=c.c[l.u.finalize]),a.props.history.push(p)}}else{var u=a.getUpdatedSection(!0);if(u.isValid){var d=u.Section,m=JSON.parse(JSON.stringify(a.props.document)),f=m.sections.findIndex((function(e){return e.id==d.id}));m.sections[f]=d,m=b.DocumentHelper.deleteEmptyParagrah(m),a.props.documentActions.UpdateDocument(a.user.UserUID,m);var C="".concat(c.c[l.u.references]);a.props.history.push(C)}}})),_(F(a),"validateParagraph",(function(){var e=!0,t={};return b.CommonHelper.isNullOrWhitespace(a.state.firstName.value)&&(t=L(L({},t),{},{firstName:L(L({},a.state.firstName),{},{showError:!0})}),e=!1),b.CommonHelper.isNullOrWhitespace(a.state.lastName.value)&&(t=L(L({},t),{},{lastName:L(L({},a.state.lastName),{},{showError:!0})}),e=!1),b.CommonHelper.isNullOrWhitespace(a.state.positionTitle.value)&&(t=L(L({},t),{},{positionTitle:L(L({},a.state.positionTitle),{},{showError:!0})}),e=!1),b.CommonHelper.isNullOrWhitespace(a.state.email.value)&&(t=L(L({},t),{},{email:L(L({},a.state.email),{},{showError:!0})}),e=!1),b.CommonHelper.isNullOrWhitespace(a.state.companyName.value)&&(t=L(L({},t),{},{companyName:L(L({},a.state.companyName),{},{showError:!0})}),e=!1),b.CommonHelper.isNullOrWhitespace(a.state.relationshipToYou.value)&&(t=L(L({},t),{},{relationshipToYou:L(L({},a.state.relationshipToYou),{},{showError:!0})}),e=!1),e||a.setState(t),e})),_(F(a),"onCancelClick",(function(){var e="";a.clearFields(),e=a.props.isCalledFromFinalize?a.props.isEditMode||a.props.isAddMode?"".concat(c.c[l.u.references]):"".concat(c.c[l.u.finalize]):"".concat(c.c[l.u.references]),a.props.history.push(e)})),_(F(a),"onBackClick",(function(){var e=c.c[l.u.references];(a.props.isEditMode||a.props.isAddMode)&&a.props.screenName!==l.u.references||(e=a.props.backPageUrl+BLDR.Localization.url_career_objective_preview),a.props.history.push(e)})),_(F(a),"onFocus",(function(e,t){e&&e.target&&e.target.name&&t&&(t.showError=!1,a.changeState(e.target.name,t))})),_(F(a),"txtOnChange",(function(e){var t=O(e,e.target.value,a.state,a.props);a.updateState(t)})),_(F(a),"txtOnBlur",(function(e){var t=e.target.value;if(!b.CommonHelper.isNullOrWhitespace(e.target.name)){var n=O(e,t=b.CommonHelper.convertToTitleCase(t,e.target.name),a.state,a.props);a.updateState(n)}})),_(F(a),"changeState",(function(e,t){switch(e){case b.TypeCodes.fieldCd.FirstName:a.setState({firstName:t});break;case b.TypeCodes.fieldCd.LastName:a.setState({lastName:t});break;case b.TypeCodes.fieldCd.PositionTitle:a.setState({positionTitle:t});break;case b.TypeCodes.fieldCd.Email:a.setState({email:t});break;case b.TypeCodes.fieldCd.CellPhone:a.setState({phone:t});break;case b.TypeCodes.fieldCd.RelationshipCompany:a.setState({companyName:t});break;case b.TypeCodes.fieldCd.RelationshipToYou:a.setState({relationshipToYou:t})}})),_(F(a),"updateState",(function(e){if(e){var t=a.state.paragraph,n=b.DocumentHelper.updateDocData(t.docDatas,e.fieldCds);t.docDatas=n,e.currentState.paragraph=t,a.setState(e.currentState)}})),_(F(a),"onSelectClick",(function(e){e&&e.value&&a.setState({includeReferences:L(L({},a.state.includeReferences),{},{value:e.value})})})),_(F(a),"getUpdatedSection",(function(e){var t=a.props.section,n=t.paragraphs.findIndex((function(e){return e.id==a.state.paragraph.id})),o=JSON.parse(JSON.stringify(a.state.paragraph));return n>-1?t.paragraphs[n]=o:t.paragraphs.push(o),{Section:t,isValid:!e||a.validateParagraph()}})),_(F(a),"setScreenInputProps",(function(){var e,t=L(L({},k.n.referencesShouldAdd),{},{panelBannerProps:l.w});switch(a.props.screenName){case l.D.should_add_reference:var n="",r=a.props&&a.props.section&&a.props.section.preferences?a.props.section.preferences.find((function(e){return e.typeCD==l.b.referencesOption})):"";r&&(r.value==l.c.show?n=BLDR.Localization.yes_Text:r.value==l.c.hide?n=BLDR.Localization.no_Text:r.value==l.c.uponRequest&&(n=BLDR.Localization.uponRequest_Text)),t=L(L({},t),{},{contentSectionClass:"builder-form-layout-content-section",panelBannerProps:{headingText:BLDR.Localization.references_Panel_Banner_Heading,contentText:BLDR.Localization.references_Panel_Banner_Content}}),e=o.a.createElement(s.a,{key:a.props.screenName,options:t.options,selectedOption:n,screenName:a.props.screenName,onNextClick:a.onNextClick});break;case l.D.add_reference:t={headingText:a.props.isEditMode?k.n.referenceOverview.editReferenceHeadingText:k.n.referenceOverview.add_reference_Text,panelBannerProps:{}},e=o.a.createElement(f,{state:a.state,key:a.props.screenName,screenName:a.props.screenName,onSaveClick:a.onSaveClick,onCancelClick:a.onCancelClick,txtOnBlur:a.txtOnBlur,onFocus:a.onFocus,txtOnChange:a.txtOnChange,localization:k.n.addReference,isCalledFromFinalize:a.props.isCalledFromFinalize,onBackClick:a.onBackClick});break;default:t={headingText:a.props.isCalledFromFinalize?k.n.referenceOverview.edit_references_Text:k.n.referenceOverview.add_reference_Text,panelBannerProps:a.props.isCalledFromFinalize?{}:l.w},e=o.a.createElement(T,{includeReferences:a.state.includeReferences,key:a.props.screenName,paragraphs:a.props.section.paragraphs,screenName:a.props.screenName,onSort:a.onSort,onDelete:a.onDelete,onEdit:a.onEdit,onContinueClick:a.onContinueClick,onSaveClick:a.onSaveClick,onCancelClick:a.onCancelClick,onAddReferencesClick:a.onAddReferencesClick,onSelectClick:a.onSelectClick,isCalledFromFinalize:a.props.isCalledFromFinalize,localization:k.n.referenceOverview,onBackClick:a.onBackClick})}return{inputProps:t,control:e}})),a.user=d.t(),a.state=function(e,t){var a=e.referencesShouldAdd.options;e=e.addReference;var n,o=t.paragraph?t.paragraph:{},r=(o=JSON.parse(JSON.stringify(o))).docDatas,i=b.CommonHelper.getCharValue(r,b.TypeCodes.fieldCd.FirstName),s=b.CommonHelper.getCharValue(r,b.TypeCodes.fieldCd.LastName),c=b.CommonHelper.getCharValue(r,b.TypeCodes.fieldCd.PositionTitle),p=b.CommonHelper.getCharValue(r,b.TypeCodes.fieldCd.Email),u=b.CommonHelper.getCharValue(r,b.TypeCodes.fieldCd.CellPhone),d=b.CommonHelper.getCharValue(r,b.TypeCodes.fieldCd.RelationshipCompany),m=b.CommonHelper.getCharValue(r,b.TypeCodes.fieldCd.RelationshipToYou),f=t&&t.section&&t.section.preferences?t.section.preferences.find((function(e){return e.typeCD==l.b.referencesOption})):"";return f&&(f=f.value==l.c.show?a[0]:f.value==l.c.hide?a[2]:a[1]),{includeReferences:{id:l.o.referenceQuestionnaire,placeholderLabel:"Select One",labelName:e.includeReferenceLabelText,name:l.o.referenceQuestionnaire,options:(n=a,[{name:n[0],label:n[0],value:n[0]},{name:n[2],label:n[2],value:n[2]},{name:n[1],label:n[1],value:n[1]}]),value:f||""},firstName:{id:b.TypeCodes.fieldCd.FirstName,labelName:e.firstNameLabelText,name:b.TypeCodes.fieldCd.FirstName,type:"text",regEx:/^[a-zA-Z .,']+$/,showError:!1,errorMessage:e.firstNameErrorMessage,maxLength:35,value:i,autoFocus:!1,placeholderLabel:e.firstNamePlaceholderText,tabIndex:1},lastName:{id:b.TypeCodes.fieldCd.LastName,labelName:e.lastNameLabelText,name:b.TypeCodes.fieldCd.LastName,type:"text",regEx:/^[a-zA-Z .,']+$/,showError:!1,errorMessage:e.lastNameErrorMessage,maxLength:35,value:s,autoFocus:!1,placeholderLabel:e.lastNamePlaceholderText,tabIndex:2},positionTitle:{id:b.TypeCodes.fieldCd.PositionTitle,labelName:e.positionTitleLabelText,name:b.TypeCodes.fieldCd.PositionTitle,type:"text",regEx:/^[a-zA-Z .,']+$/,showError:!1,errorMessage:e.positionTitleErrorMessage,maxLength:35,value:c,autoFocus:!1,placeholderLabel:e.positionTitlePlaceHolderText,tabIndex:3},email:{id:b.TypeCodes.fieldCd.Email,labelName:e.emailLabelText,name:b.TypeCodes.fieldCd.Email,type:"text",showError:!1,errorMessage:e.emailErrorMessage,maxLength:50,value:p,autoFocus:!1,placeholderLabel:e.emailPlaceholderText,tabIndex:4},phone:{id:b.TypeCodes.fieldCd.CellPhone,labelName:e.phoneNumberLabelText,name:b.TypeCodes.fieldCd.CellPhone,type:"text",regEx:/^[0-9-\b]+$/,showError:!1,maxLength:16,value:u,autoFocus:!1,placeholderLabel:e.phoneNumberPlaceholderText,tabIndex:5,isValidateKeyDown:!0},companyName:{id:b.TypeCodes.fieldCd.RelationshipCompany,labelName:e.companyNameLabelText,name:b.TypeCodes.fieldCd.RelationshipCompany,type:"text",regEx:/^[a-zA-Z .,']+$/,showError:!1,errorMessage:e.companyNameErrorMessage,maxLength:35,value:d,autoFocus:!1,placeholderLabel:e.companyNamePlaceHolderText,tabIndex:6},relationshipToYou:{id:b.TypeCodes.fieldCd.RelationshipToYou,labelName:e.relationshipToYouLabelText,name:b.TypeCodes.fieldCd.RelationshipToYou,type:"text",regEx:/^[a-zA-Z .,']+$/,showError:!1,errorMessage:e.relationshipToYouErrorMesssge,maxLength:35,value:m,autoFocus:!1,placeholderLabel:e.relationshipToYouPlaceHolderText,tabIndex:7},paragraph:o}}(k.n,a.props),a}return t=p,(a=[{key:"componentDidMount",value:function(){this.props.saveUserStages(l.I.References),this.conductFitCarouselExperiment()}},{key:"componentDidUpdate",value:function(){b.DocumentHelper.isEmptyParagraphExists(this.props.section)||1!==this.props.section.paragraphs.length||this.props.saveUserStages(l.I.References_Overview)}},{key:"render",value:function(){var e=this.setScreenInputProps(),t=e.inputProps,a=e.control;return o.a.createElement(i.a,{headingText:t.headingText,subHeadingText:t.subHeadingText,panelBannerProps:t.panelBannerProps,contentSectionClass:t.contentSectionClass},a)}}])&&w(t.prototype,a),n&&w(t,n),p}(n.Component);function V(e,t){var a,n;return{screenName:t.match.params.screenName?t.match.params.screenName:(a=BLDR.getQueryString("add_reference"),n=BLDR.getQueryString("paraid"),"true"==a||n?l.D.add_reference:l.u.references)}}t.default=Object(r.b)(V)(U)},539:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a(0),o=a.n(n),r=a(504),i=a.n(r),s=a(115),l=a(1),c=a(5),p=a(8);function u(e){return o.a.createElement(s.a,{headingText:e.isCalledFromFinalize?p.e.headingText_Edit:p.e.headingText,subHeadingText:e.isCalledFromFinalize?p.e.subHeadingText:"",panelBannerProps:l.w},o.a.createElement(i.a,{ref:function(t){return e.assignRef("contactComponent",t)},PortalCd:window.BLDR.PortalSettings.ConfigurePortalCd,onComponentChange:e.onComponentChange,ProductCd:window.BLDR.PortalSettings.ConfigureProductCd,Localization:p.e,DebounceTime:window.BLDR.DebounceTime,customPhoneMasking:c.d,CountryCd:window.BLDR.countryDetails.countryCode,isCityAutosuggest:c.G(),validateZipOnKeyDown:!0,BaseApiUrl:window.BLDR.Paths.BaseApiUrl,Contact:e.state.contactSection,Name:e.state.nameSection,User:e.User,countries:e.countries,stateList:e.stateList,onSelectClick:e.onSelectClick,isFirstFocus:!1,useGoogleWidget:!1,isStreetAutosuggest:!1,isStateAutosuggest:c.H(),isZipAutosuggest:c.I()}),o.a.createElement("div",{className:BLDR.enableBackButton?"builder-form-layout-button-section back-button-layout":"builder-form-layout-button-section"},e.isCalledFromFinalize?e.isValid?o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"button button-default btn-back js-back-button",type:"button",onClick:e.onCancel},p.e.CancelCTAText),o.a.createElement("button",{className:"button button-primary btn-next js-next-button",type:"button",onClick:e.onNextClick},p.e.SaveCTAText)):o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:"button button-default btn-back js-back-button",type:"button",onClick:e.onCancel},p.e.CancelCTAText),o.a.createElement("button",{className:"button button-primary btn-next js-next-button",disabled:!0,type:"button",onClick:e.onNextClick},p.e.SaveCTAText)):e.isValid?o.a.createElement(o.a.Fragment,null,BLDR.enableBackButton&&o.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),o.a.createElement("button",{type:"button",className:"button button-primary",onClick:e.onNextClick},p.e.continueCTAText)):o.a.createElement(o.a.Fragment,null,BLDR.enableBackButton&&o.a.createElement("button",{className:"button button-default",type:"button",onClick:e.onBackClick},BLDR.Localization.back),o.a.createElement("button",{type:"button",disabled:!0,className:"button button-primary",onClick:e.onNextClick},p.e.continueCTAText))))}var d=a(2),m=a(67),f=a(119),C=a(6);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=E(e);if(t){var o=E(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return N(this,a)}}function N(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,a,n,r=T(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),O(D(t=r.call(this,e)),"assignRef",(function(e,a){null!=a&&(t.refObj[e]=a)})),O(D(t),"conductGeniusNewTTCExperiment",(function(){BLDR.isRG&&BLDR.PortalExperiments.rgnGeniusNewTTC&&BLDR.UserClaims.user_uid&&0==c.k(BLDR.PortalExperiments.rgnGeniusNewTTC)&&t.props.userActions.ConductExperiment(BLDR.UserClaims.user_uid,BLDR.PortalExperiments.rgnGeniusNewTTC.id,BLDR.PortalExperiments.rgnGeniusNewTTC.conductForOldUsers)})),O(D(t),"getHeaderInitialState",(function(e){var t=Object.assign({},e),a=e.sections.filter((function(e){return e.sectionTypeCD==d.TypeCodes.sectionTypeCd.Name}))[0],n=e.sections.filter((function(e){return e.sectionTypeCD==d.TypeCodes.sectionTypeCd.Contact}))[0];if(null==a||null==a){var o=BLDR.getTemplateFromSkin(t.skinCD),r=d.DocumentHelper.GetSectionContainerIndex(d.TypeCodes.sectionTypeCd.Name,o,BLDR.isMultiColumnSkin(t.skinCD));if((a=d.DocumentHelper.createDummySectionWithParagraph(d.TypeCodes.sectionTypeCd.Name,1,t.id,t.userId,r,BLDR.Definition_Tips))&&a.paragraphs&&a.paragraphs.length>0&&(a.paragraphs[0].index=1),t.sections&&t.sections.length>0)t.sections.some((function(e){return 1==e.index}))&&t.sections.forEach((function(e){e.index=e.index+1})),t.sections.unshift(a);else t.sections=[],t.sections[0]=a}if(a&&(!a.paragraphs||a.paragraphs.length<1)){var i=d.DocumentHelper.createFirstPara(a,e.userId),s=Object.assign({},a);i.index=s.paragraphs.length+1,s.paragraphs.push(i);var l=t.sections.map((function(e){return e.id})).indexOf(a.id);t.sections[l]=s}return{document:t,contactSection:n,nameSection:a}})),O(D(t),"onNextClick",(function(){var e=t.props.isCalledFromFinalize?C.c[l.u.finalize]:Object(f.e)(t.props.document);t.updateDocument(e)})),O(D(t),"onBackClick",(function(){var e=t.props.backPageUrl+l.B.graduationDate;if(t.props.document.preferences){var a=c.j(t.props.document,l.o.experiencePresent)||"",n=c.j(t.props.document,l.o.highestEducation)||"",o=c.j(t.props.document,l.o.graduationStatus)||"",r=c.j(t.props.document,l.o.graduationDate)||"";d.CommonHelper.isNullOrWhitespace(a)&&d.CommonHelper.isNullOrWhitespace(n)&&d.CommonHelper.isNullOrWhitespace(o)&&d.CommonHelper.isNullOrWhitespace(r)&&(e=C.c[l.u.howToStart])}t.props.history.push(e)})),O(D(t),"onCancel",(function(){var e=t.props.nextPageUrl;t.props.history.push(e)})),O(D(t),"updateDocument",(function(e){if(t.refObj.contactComponent.getUpdatedSection(!0,!0).isValid){var a=t.props.document.id?0:200;a>0&&BLDR.startPageLoader();var n=setInterval((function(){if(t.props.document.id){clearInterval(n);var a=b({},t.state.document);if(t.props.document.id!=t.state.document.id&&(a=t.copyDummyDocumentState()),a=t.updateDocumentName(a),t.updateUserContact(a),t.props.documentActions.UpdateDocument(t.props.user.user_uid,a),t.saveJobLocationUserPreference(a),e)if(BLDR.closePageLoader(),!d.CommonHelper.getStorageValue(l.F.signUpSkipClick)&&!BLDR.isloggedIn&&BLDR.isRG&&BLDR.PortalExperiments.rgnOptionalSignup&&2===c.k(BLDR.PortalExperiments.rgnOptionalSignup)){var o="".concat(C.c[l.u.signup],"?referrer=").concat(encodeURIComponent(e),"&fromOptionalSignup=true");t.props.history.push(o)}else t.props.history.push(e)}}),a)}})),O(D(t),"saveJobLocationUserPreference",(function(e){var a=d.CommonHelper.getSectionByCD(e.sections,d.TypeCodes.sectionTypeCd.Contact);if(a){var n=c.l(a);d.CommonHelper.isNullOrWhitespace(n)||t.props.userActions.SaveUserPreference(t.props.document.userId,l.e.PreferenceJobLocation,n,BLDR.PortalSettings.ConfigurePortalCd)}})),O(D(t),"copyDummyDocumentState",(function(){var e=t.refObj.contactComponent.getUpdatedSection(),a=t.getHeaderInitialState(t.props.document),n=JSON.parse(JSON.stringify(a.document));if(n&&e){var o=d.CommonHelper.getSectionByCD(n.sections,d.TypeCodes.sectionTypeCd.Contact);if(o&&o.paragraphs&&o.paragraphs.length>0&&e.Contact&&e.Contact.paragraphs&&e.Contact.paragraphs.length>0){var r=c.c(e.Contact.paragraphs[0],o.paragraphs[0]);if(r)n=d.DocumentHelper.updateDocumentParagraph(n,a.contactSection.id,r).newDocument}var i=d.CommonHelper.getSectionByCD(n.sections,d.TypeCodes.sectionTypeCd.Name);if(i&&i.paragraphs&&i.paragraphs.length>0&&e.Name&&e.Name.paragraphs&&e.Name.paragraphs.length>0){var s=c.c(e.Name.paragraphs[0],i.paragraphs[0]);if(s)n=d.DocumentHelper.updateDocumentParagraph(n,a.nameSection.id,s).newDocument}}return n})),O(D(t),"updateUserContact",(function(e){var a=d.CommonHelper.getSectionByCD(e.sections,d.TypeCodes.sectionTypeCd.Name).paragraphs[0].docDatas,n=d.CommonHelper.getSectionByCD(e.sections,d.TypeCodes.sectionTypeCd.Contact).paragraphs[0].docDatas,o=new m.User;return o.PortalCD=BLDR.PortalSettings.ConfigurePortalCd,o.Country=d.CommonHelper.getCharValue(n,d.TypeCodes.fieldCd.Country),o.City=d.CommonHelper.getCharValue(n,d.TypeCodes.fieldCd.City),o.State=d.CommonHelper.getCharValue(n,d.TypeCodes.fieldCd.State),o.UserUID=t.props.document.userId,o.PostalCD=d.CommonHelper.getCharValue(n,d.TypeCodes.fieldCd.ZipCode),o.PhoneNumber=d.CommonHelper.getCharValue(n,d.TypeCodes.fieldCd.HomePhone),o.CreatedOn=t.props.user.createdOn,o.AddressLine1=d.CommonHelper.getCharValue(n,d.TypeCodes.fieldCd.Street),o.EmailAddress=d.CommonHelper.getCharValue(n,d.TypeCodes.fieldCd.Email),o.FirstName=d.CommonHelper.getCharValue(a,d.TypeCodes.fieldCd.FirstName),o.LastName=d.CommonHelper.getCharValue(a,d.TypeCodes.fieldCd.LastName),t.updateUserEmailAddress(o.EmailAddress),t.props.userActions.UpdateUserContact(o,!0)})),O(D(t),"updateUserEmailAddress",(function(e){if("guest"==t.props.user.role.toLowerCase()&&!d.CommonHelper.isNullOrWhitespace(e)){t.props.userActions.UpdateEmailAddress(t.props.user.user_uid,e,!1,BLDR.PortalSettings.ConfigurePortal,!1)}})),O(D(t),"onComponentChange",(function(){var e=t.refObj.contactComponent.getUpdatedSection(!0);t.setState({isValid:e.isValid})})),O(D(t),"updateDocumentName",(function(e){var t=JSON.parse(JSON.stringify(e)),a=BLDR.Localization.resume_Label+"_1";if(t.name==a){var n="",o="",r="",i=d.CommonHelper.getSectionByCD(t.sections,d.TypeCodes.sectionTypeCd.Name);if(i&&i.paragraphs&&i.paragraphs.length>0&&i.paragraphs[0].docDatas&&i.paragraphs[0].docDatas.length>0){var s=i.paragraphs[0].docDatas;o=d.CommonHelper.getCharValue(s,d.TypeCodes.fieldCd.FirstName),r=d.CommonHelper.getCharValue(s,d.TypeCodes.fieldCd.LastName)}d.CommonHelper.isNullOrWhitespace(o)&&d.CommonHelper.isNullOrWhitespace(r)||(n=c.a(o,r,BLDR.Localization.resume_Label,0),t=b(b({},t),{},{name:n}))}return t})),O(D(t),"onSelectClick",(function(e){e.name==d.TypeCodes.fieldCd.Country&&(e&&(e.countryCD==l.n.canada||e&&e.countryCD==l.n.unitedSates)?BLDR.States&&BLDR.States[e.countryCD]?t.setState({stateList:BLDR.States[e.countryCD]}):t.props.commonActions.GetStateList(e.countryCD).then((function(e){t.setState({stateList:e})})):t.setState({stateList:{}}))})),t.refObj={},t.state=b(b({},t.getHeaderInitialState(t.props.document)),{},{isValid:!1,stateList:{}}),t}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this.props.paragraph.docDatas;if(d.CommonHelper.getCharValue(e,d.TypeCodes.fieldCd.Email)){var t,a=d.CommonHelper.getCharValue(e,d.TypeCodes.fieldCd.Country);t=BLDR.States[a]||{},this.setState({isValid:!0,stateList:t})}this.conductGeniusNewTTCExperiment(),this.props.saveUserStages(l.I.Contact)}},{key:"render",value:function(){var e={UserUid:this.props.document.userId},t=c.i(d.TypeCodes.fieldCd.Country,!0);return o.a.createElement(u,{state:this.state,isCalledFromFinalize:this.props.isCalledFromFinalize,assignRef:this.assignRef,propsObj:this.propsObj,User:e,onCancel:this.onCancel,onNextClick:this.onNextClick,onBackClick:this.onBackClick,onComponentChange:this.onComponentChange,isValid:this.state.isValid,onSelectClick:this.onSelectClick,countries:t,stateList:this.state.stateList})}}])&&g(t.prototype,a),n&&g(t,n),i}(n.Component)}}]);